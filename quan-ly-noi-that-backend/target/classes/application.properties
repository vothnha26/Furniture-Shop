spring.application.name=quan-ly-noi-that-backend
# ----------------------------------------------------------------------
# 1. Cấu hình Database (SQL Server)
# ----------------------------------------------------------------------
# SQL Server Connection Configuration
# Cập nhật thông tin kết nối theo SQL Server của bạn:
# - localhost:1433 -> địa chỉ và port SQL Server
# - qlnt_db -> tên database
spring.datasource.url=jdbc:sqlserver://qlnt-api-server-2025.database.windows.net:1433;database=qlnt_db_azure;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# SQL Server credentials - CẬP NHẬT theo tài khoản SQL Server của bạn
spring.datasource.username=qlntadmin@qlnt-api-server-2025
spring.datasource.password=nhacc123@

# Disable H2 Console (không cần nữa khi dùng SQL Server)
spring.h2.console.enabled=false

# ----------------------------------------------------------------------
# 2. Cấu hình JPA/Hibernate
# ----------------------------------------------------------------------
# Hibernate DDL auto:
# - 'create-drop': Tạo lại schema mỗi lần chạy (DEV - MẤT DỮ LIỆU!)
# - 'update': Cập nhật schema tự động (DEV/TEST)
# - 'validate': Chỉ kiểm tra schema (PRODUCTION)
# - 'none': Không làm gì (PRODUCTION với migration tools)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.SQLServer2012Dialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect

# Đảm bảo tên bảng và cột dùng snake_case thống nhất
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
spring.jpa.hibernate.naming.implicit-strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy

# SQL Server specific optimizations
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ----------------------------------------------------------------------
# 3. Encoding Configuration
# ----------------------------------------------------------------------
spring.web.locale=vi_VN
spring.messages.encoding=UTF-8
# Jackson: ignore unknown properties globally to be tolerant with frontend payloads
spring.jackson.deserialization.FAIL_ON_UNKNOWN_PROPERTIES=false
# Comma-separated list of allowed origins for CORS (development)
app.cors.allowed-origins=http://localhost:3000

# Toggle Spring Security for local testing. Set to true in production.
app.security.enabled=false

# ----------------------------------------------------------------------
# 4. File Upload Configuration
# ----------------------------------------------------------------------
# Max file size (default 1MB)
spring.servlet.multipart.max-file-size=10MB
# Max request size (default 10MB)
spring.servlet.multipart.max-request-size=50MB
# Enable multipart uploads
spring.servlet.multipart.enabled=true

# Email configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=thanhlocys@gmail.com
spring.mail.password=ayra tcxb qsyt nouj
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# JWT Secret Key
application.security.jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
application.security.jwt.expiration=86400000
application.security.jwt.refresh-token.expiration=604800000
